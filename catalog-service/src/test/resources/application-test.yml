# Test-specific configuration
spring:
    # Database Configuration (will be overridden by Testcontainers)
    r2dbc:
        url: r2dbc:mysql://${DB_HOST:localhost}:${DB_PORT:3306}/${DB_NAME:test_catalog}
        username: ${DB_USERNAME:test}
        password: ${DB_PASSWORD:test}
        pool:
            enabled: true
            initial-size: 5
            max-size: 10
            max-idle-time: 30m
            max-acquire-time: 30s
            max-create-connection-time: 30s

    # Flyway (disabled for tests - we use TestDatabaseInitializer)
    flyway:
        enabled: false

    # SQL Scripts (disabled - we'll create schema programmatically)
    sql:
        init:
            mode: never

# Logging Configuration
logging:
    level:
        root: INFO
        com.quickcommerce.catalog: DEBUG
        org.springframework.data.r2dbc: DEBUG
        org.testcontainers: INFO

# Server Configuration
server:
    port: 0 # Random port for tests

# Management endpoints
management:
    endpoints:
        web:
            exposure:
                include: health
    endpoint:
        health:
            show-details: always
